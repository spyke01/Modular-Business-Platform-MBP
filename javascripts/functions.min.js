require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var graphs_fillColor = 'rgba(220,220,220,0.5)';
var graphs_strokeColor = 'rgba(220,220,220,1)';
/*-------------------------------------------------------------------------*/
// Page Load Functions

/*-------------------------------------------------------------------------*/

$(document).ready(function () {
  // Handle tabs
  $('.tabs').tabs(); // Edits are inline
  //$.fn.editable.defaults.mode = 'popup';
  // Navigation dropdown fix for IE6

  /*
  if(jQuery.browser.version.substr(0,1) < 7) {
    $('#nav li').hover(
      function() { $(this).addClass('iehover'); },
      function() { $(this).removeClass('iehover'); }
    );
  }
  */
  // Autosize all textareas
  //$('textarea').autosize(); 
  // Add select2

  $('select.select2').select2(); // TinyMCE

  if ($('.tinymce').length) {
    tinymce.init({
      selector: '.tinymce',
      relative_urls: false,
      remove_script_host: false,
      plugins: ['advlist autolink link image lists charmap hr anchor spellchecker', 'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking', 'table contextmenu directionality emoticons paste textcolor'],
      removed_menuitems: 'newdocument',
      //content_css: "css/content.css",
      toolbar: 'insertfile undo redo | styleselect | fontsizeselect | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media fullpage | forecolor backcolor emoticons',
      style_formats: [{
        title: 'Bold text',
        inline: 'b'
      }, {
        title: 'Red text',
        inline: 'span',
        styles: {
          color: '#ff0000'
        }
      }, {
        title: 'Red header',
        block: 'h1',
        styles: {
          color: '#ff0000'
        }
      }],
      rel_list: [//{title: 'Lightbox', value: 'lightbox'},
      //{title: 'Table of contents', value: 'toc'},
      {
        title: 'Do Follow',
        value: 'follow'
      }, {
        title: 'No Follow',
        value: 'nofollow'
      }],
      // update validation status on change
      onchange_callback: function onchange_callback(editor) {
        tinyMCE.triggerSave();
        $('#' + editor.id).valid();
      }
    });
  }

  if ($('.tinymce_basic').length) {
    tinymce.init({
      selector: '.tinymce_basic',
      relative_urls: false,
      remove_script_host: false,
      plugins: ['advlist autolink link image lists charmap hr anchor spellchecker', 'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking', 'table contextmenu directionality emoticons paste textcolor'],
      removed_menuitems: 'newdocument',
      menubar: false,
      toolbar: 'bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media',
      rel_list: [//{title: 'Lightbox', value: 'lightbox'},
      //{title: 'Table of contents', value: 'toc'},
      {
        title: 'Do Follow',
        value: 'follow'
      }, {
        title: 'No Follow',
        value: 'nofollow'
      }],
      // update validation status on change
      onchange_callback: function onchange_callback(editor) {
        tinyMCE.triggerSave();
        $('#' + editor.id).valid();
      }
    });
  }

  if ($('.tinymce_imageupload').length) {
    tinymce.init({
      selector: '.tinymce_imageupload',
      relative_urls: false,
      remove_script_host: false,
      plugins: ['image'],
      removed_menuitems: 'newdocument',
      toolbar: 'image',
      // update validation status on change
      onchange_callback: function onchange_callback(editor) {
        tinyMCE.triggerSave();
        $('#' + editor.id).valid();
      }
    });
  }

  if ($('.clearFormButton').length) {
    $('.clearFormButton').click(function () {
      bootbox.confirm('Are you sure you want to clear this form?', function (result) {
        if (result == true) {
          $(this).parents('form:first').clearForm();
        }
      });
    });
  }

  if ($('input.minicolors').length) {
    $('input.minicolors').minicolors({
      control: 'hue',
      defaultValue: $(this).attr('value') || '',
      inline: $(this).attr('data-inline') === 'true',
      letterCase: 'lowercase',
      opacity: $(this).attr('data-opacity'),
      position: 'bottom left',
      change: function change(hex, opacity) {
        var log;

        try {
          log = hex ? hex : 'transparent';

          if (opacity) {
            log += ', ' + opacity;
          }

          console.log(log);
        } catch (e) {}
      },
      theme: 'bootstrap'
    });
  }

  if ($('input.icon-picker').length) {
    $('input.icon-picker').iconPicker();
  }

  if ($('input.toggle').length) {
    $('input.toggle').bootstrapSwitch();
  }

  if ($('ul#graphLinks').length) {
    var ctx = $('#graphsChart').get(0).getContext('2d');
    $('ul#graphLinks a').click(function (e) {
      e.preventDefault();
      $('#builtinGraphResponse').html('');
      $('#graphTitle').html($(this).html());
      var myNewChart = new Chart(ctx);
      window[$(this).attr('id')](ctx); // Call the function
    });
  }

  if ($('div.selectionPreview').length) {
    $('div.selectionPreview').each(function () {
      // Determine our settings
      var id = this.id;
      var selectBox = id.replace('Preview', '');
      $('select#' + selectBox).change(function () {
        // Reset the preview box
        $('#' + id).attr('class', 'selectionPreview');
        $('#' + id + ' img').attr('class', '').show(); // Try and get a JS script to show the preview for the item

        $.getScript(SITE_URL + '/ajax.php?action=showSelectionPreview&selectionID=' + selectBox + '&value=' + $(this).val());
      }).change(); // Trigger the change so we get an accurate preview on page load 
    });
  }

  if ($('#changePasswordLink').length) {
    $('#changePasswordLink').click(function (e) {
      e.preventDefault();
      bootbox.dialog({
        message: '<form name="changePasswordForm" id="changePasswordForm" action="" method="post" class="form-horizontal" role="form" onsubmit="return false;"><fieldset><div class="form-group"><label for="password" class="control-label col-lg-4">Password <sup>*</sup> </label> <div class="col-lg-8"><input type="password" name="password" id="password" class="form-control required" size="60" value="" /></div></div><div class="form-group"><label for="password2" class="control-label col-lg-4">Confirm Password <sup>*</sup> </label> <div class="col-lg-8"><input type="password" name="password2" id="password2" class="form-control required" size="60"   value="" /></div></div></fieldset></form>',
        title: 'Change Password',
        buttons: {
          success: {
            label: 'Change Password',
            className: 'btn-success',
            callback: function callback() {
              jQuery.post(SITE_URL + '/ajax.php?action=changePassword', $('#changePasswordForm').serialize(), function (data) {
                bootbox.alert(data);
              });
            }
          },
          danger: {
            label: 'Cancel',
            className: 'btn-default'
          }
        }
      });
    });
  } // Generate Password


  if ($('.generatePasswordLink').length) {
    $('.generatePasswordLink').click(function (e) {
      var self = this;
      e.preventDefault();
      jQuery.post(SITE_URL + '/ajax.php?action=generatePassword', function (data) {
        bootbox.dialog({
          message: '<h2 class="generatedPassword">' + data + '</h2>',
          title: 'Generate Password',
          buttons: {
            success: {
              label: '<span class="glyphicon glyphicon-check"></span> Use This Password',
              className: 'btn-success',
              callback: function callback() {
                $(self).parent().parent().find(':password').val($('.generatedPassword').html()).effect('highlight', {}, 500);
              }
            },
            regen: {
              label: '<span class="glyphicon glyphicon-refresh"></span> Regenerate',
              className: 'btn-info',
              callback: function callback() {
                updateGeneratedPassword('.generatedPassword');
                return false;
              }
            }
          }
        });
      });
    });
  } // Password strength


  if ($(':password.showStrength').length) {
    var options = {};
    options.ui = {
      container: '#pwd-container',
      showVerdictsInsideProgressBar: true,
      viewports: {
        progress: '.pwstrength_viewport_progress'
      }
    };
    options.common = {
      debug: true,
      onLoad: function onLoad() {
        $('#messages').text('Start typing password');
      }
    };
    $(':password.showStrength').pwstrength(options);
  }
});
/*-------------------------------------------------------------------------*/
// Ajax Functions

/*-------------------------------------------------------------------------*/

function ajaxDeleteNotifier(spinDivID, action, text, row) {
  bootbox.confirm('Are you sure you want to delete this ' + text + '?', function (result) {
    if (result == true) {
      $('#' + spinDivID).toggle();
      jQuery.get(action, function (data) {
        $('#' + row).hide();
      });
    }
  });
}

function ajaxGetWithProgress(spinDivID, action) {
  $('#' + spinDivID).toggle();
  jQuery.get(action, function (data) {
    $('#' + spinDivID).toggle();
  });
}

function ajaxQuickDivUpdate(action, divID, spinnerHTML) {
  jQuery.get(action, function (data) {
    // Clear the current graph and show the new one
    $('#' + divID).html(spinnerHTML).html(data);
  });
}

$.fn.clearForm = function () {
  return this.each(function () {
    var type = this.type,
        tag = this.tagName.toLowerCase();

    if (tag === 'form') {
      return $(':input', this).clearForm();
    }

    if (type === 'text' || type === 'password' || tag === 'textarea') {
      this.value = '';
    } else if (type === 'checkbox' || type === 'radio') {
      this.checked = false;
    } else if (tag === 'select') {
      this.selectedIndex = -1;
    }
  });
};

function returnSuccessMessage(itemName) {
  return '<span class="greenText bold">Successfully created ' + itemName + '!</span>';
}
/*-------------------------------------------------------------------------*/
// Ajax Functions - Modules

/*-------------------------------------------------------------------------*/


function ajaxInstallModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=installModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}

function ajaxUninstallModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=uninstallModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}

function ajaxActivateModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=activateModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}

function ajaxDeactivateModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=deactivateModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}
/*-------------------------------------------------------------------------*/
// User related Functions

/*-------------------------------------------------------------------------*/


function updateGeneratedPassword(selector) {
  $(selector).html('Generating...');
  jQuery.get(SITE_URL + '/ajax.php?action=generatePassword', function (data) {
    $(selector).html(data);
  });
}
/*-------------------------------------------------------------------------*/
// Helper Functions

/*-------------------------------------------------------------------------*/


function addEditable(fields, options) {
  $.each(fields, function () {
    // Determine our settings
    var id = this;
    var table = id.replace(/edit-([a-zA-Z_]+?)-([0-9]+?)_(.*)/, '$1');
    var dbID = id.replace(/edit-([a-zA-Z_]+?)-([0-9]+?)_(.*)/, '$2');
    var name = id.replace(/edit-([a-zA-Z_]+?)-([0-9]+?)_(.*)/, '$3');
    var default_options = {
      id: 'cssID',
      cancel: '<button class="btn btn-default btn-sm editable-cancel" type="button"><i class="glyphicon glyphicon-remove"></i></button>',
      submit: '<button class="btn btn-primary btn-sm editable-submit" type="submit"><i class="glyphicon glyphicon-ok"></i></button>',
      indicator: indicatorImage,
      tooltip: 'Click to edit...',
      style: 'display: inline;',
      width: 'none'
    };
    options = $.extend({}, default_options, options);

    if (options.loadurl) {
      options.loadurl += '&id=' + dbID;
    }

    $('#' + id).addClass('editableItemHolder').editable(SITE_URL + '/ajax.php?action=updateitem&table=' + table + '&item=' + name + '&id=' + dbID, options);
  });
}
/*
function addEditable( fields, table ) {
	$.each(fields, function() {
		// Determine our settings
		id = this;
		dbID = id.replace(/edit-([0-9]+?)_(.*)/, '$1');
		name = id.replace(/edit-([0-9]+?)_(.*)/, '$2');
		
		$('#' + id).editable({
			type: 'text',
			pk: dbID,
			name: name,
			url: SITE_URL + '/ajax.php?action=updateitem&table=' + table,
			title: 'Enter Text',
		});
	});
}	
function addEditableSelect( fields, source ) {
	$.each(fields, function() {
		// Determine our settings
		id = '';
		name = '';
		table = '';
		
		$(this).editable({
			type: 'select',
			pk: id,
			name: name,
			source: source,
			url: SITE_URL + '/ajax.php?action=updateitem&table=' + table,
		});
	});
}
*/

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqYXZhc2NyaXB0c1xcZnVuY3Rpb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFJLGdCQUFnQixHQUFHLHVCQUF2QjtBQUNBLElBQUksa0JBQWtCLEdBQUcscUJBQXpCO0FBRUE7QUFDQTs7QUFDQTs7QUFDQSxDQUFDLENBQUMsUUFBRCxDQUFELENBQVksS0FBWixDQUFrQixZQUFXO0FBQzNCO0FBQ0EsRUFBQSxDQUFDLENBQUMsT0FBRCxDQUFELENBQVcsSUFBWCxHQUYyQixDQUkzQjtBQUNBO0FBRUE7O0FBQ0E7Ozs7Ozs7O0FBU0E7QUFDQTtBQUVBOztBQUNBLEVBQUEsQ0FBQyxDQUFDLGdCQUFELENBQUQsQ0FBb0IsT0FBcEIsR0FyQjJCLENBdUIzQjs7QUFDQSxNQUFJLENBQUMsQ0FBQyxVQUFELENBQUQsQ0FBYyxNQUFsQixFQUEwQjtBQUN4QixJQUFBLE9BQU8sQ0FBQyxJQUFSLENBQWE7QUFDWCxNQUFBLFFBQVEsRUFBRSxVQURDO0FBRVgsTUFBQSxhQUFhLEVBQUUsS0FGSjtBQUdYLE1BQUEsa0JBQWtCLEVBQUUsS0FIVDtBQUtYLE1BQUEsT0FBTyxFQUFFLENBQ1Asa0VBRE8sRUFFUCxtR0FGTyxFQUdQLDREQUhPLENBTEU7QUFVWCxNQUFBLGlCQUFpQixFQUFFLGFBVlI7QUFXWDtBQUNBLE1BQUEsT0FBTyxFQUFFLDBOQVpFO0FBYVgsTUFBQSxhQUFhLEVBQUUsQ0FDYjtBQUFFLFFBQUEsS0FBSyxFQUFFLFdBQVQ7QUFBc0IsUUFBQSxNQUFNLEVBQUU7QUFBOUIsT0FEYSxFQUViO0FBQUUsUUFBQSxLQUFLLEVBQUUsVUFBVDtBQUFxQixRQUFBLE1BQU0sRUFBRSxNQUE3QjtBQUFxQyxRQUFBLE1BQU0sRUFBRTtBQUFFLFVBQUEsS0FBSyxFQUFFO0FBQVQ7QUFBN0MsT0FGYSxFQUdiO0FBQUUsUUFBQSxLQUFLLEVBQUUsWUFBVDtBQUF1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LENBQVcsbUNBQVgsRUFBZ0QsSUFBaEQsQ0FBWjtBQUNBLFFBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxPQUFILENBQVcsbUNBQVgsRUFBZ0QsSUFBaEQsQ0FBWDtBQUNBLFFBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxPQUFILENBQVcsbUNBQVgsRUFBZ0QsSUFBaEQsQ0FBWDtBQUVBLFFBQUksZUFBZSxHQUFHO0FBQ3BCLE1BQUEsRUFBRSxFQUFFLE9BRGdCO0FBRXBCLE1BQUEsTUFBTSxFQUFFLDBIQUZZO0FBR3BCLE1BQUEsTUFBTSxFQUFFLHNIQUhZO0FBSXBCLE1BQUEsU0FBUyxFQUFFLGNBSlM7QUFLcEIsTUFBQSxPQUFPLEVBQUUsa0JBTFc7QUFNcEIsTUFBQSxLQUFLLEVBQUUsa0JBTmE7QUFPcEIsTUFBQSxLQUFLLEVBQUU7QUFQYSxLQUF0QjtBQVNBLElBQUEsT0FBTyxHQUFHLENBQUMsQ0FBQyxNQUFGLENBQVMsRUFBVCxFQUFhLGVBQWIsRUFBOEIsT0FBOUIsQ0FBVjs7QUFDQSxRQUFJLE9BQU8sQ0FBQyxPQUFaLEVBQXFCO0FBQUUsTUFBQSxPQUFPLENBQUMsT0FBUixJQUFtQixTQUFTLElBQTVCO0FBQW1DOztBQUUxRCxJQUFBLENBQUMsQ0FBQyxNQUFNLEVBQVAsQ0FBRCxDQUFZLFFBQVosQ0FBcUIsb0JBQXJCLEVBQTJDLFFBQTNDLENBQ0UsUUFBUSxHQUFHLG9DQUFYLEdBQWtELEtBQWxELEdBQTBELFFBQTFELEdBQXFFLElBQXJFLEdBQTRFLE1BQTVFLEdBQXFGLElBRHZGLEVBRUUsT0FGRjtBQUlELEdBdkJEO0FBd0JEO0FBRUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibGV0IGdyYXBoc19maWxsQ29sb3IgPSAncmdiYSgyMjAsMjIwLDIyMCwwLjUpJztcbmxldCBncmFwaHNfc3Ryb2tlQ29sb3IgPSAncmdiYSgyMjAsMjIwLDIyMCwxKSc7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBQYWdlIExvYWQgRnVuY3Rpb25zXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIC8vIEhhbmRsZSB0YWJzXG4gICQoJy50YWJzJykudGFicygpO1xuXG4gIC8vIEVkaXRzIGFyZSBpbmxpbmVcbiAgLy8kLmZuLmVkaXRhYmxlLmRlZmF1bHRzLm1vZGUgPSAncG9wdXAnO1xuXG4gIC8vIE5hdmlnYXRpb24gZHJvcGRvd24gZml4IGZvciBJRTZcbiAgLypcbiAgaWYoalF1ZXJ5LmJyb3dzZXIudmVyc2lvbi5zdWJzdHIoMCwxKSA8IDcpIHtcbiAgICAkKCcjbmF2IGxpJykuaG92ZXIoXG4gICAgICBmdW5jdGlvbigpIHsgJCh0aGlzKS5hZGRDbGFzcygnaWVob3ZlcicpOyB9LFxuICAgICAgZnVuY3Rpb24oKSB7ICQodGhpcykucmVtb3ZlQ2xhc3MoJ2llaG92ZXInKTsgfVxuICAgICk7XG4gIH1cbiAgKi9cblxuICAvLyBBdXRvc2l6ZSBhbGwgdGV4dGFyZWFzXG4gIC8vJCgndGV4dGFyZWEnKS5hdXRvc2l6ZSgpOyBcblxuICAvLyBBZGQgc2VsZWN0MlxuICAkKCdzZWxlY3Quc2VsZWN0MicpLnNlbGVjdDIoKTtcblxuICAvLyBUaW55TUNFXG4gIGlmICgkKCcudGlueW1jZScpLmxlbmd0aCkge1xuICAgIHRpbnltY2UuaW5pdCh7XG4gICAgICBzZWxlY3RvcjogJy50aW55bWNlJyxcbiAgICAgIHJlbGF0aXZlX3VybHM6IGZhbHNlLFxuICAgICAgcmVtb3ZlX3NjcmlwdF9ob3N0OiBmYWxzZSxcblxuICAgICAgcGx1Z2luczogW1xuICAgICAgICAnYWR2bGlzdCBhdXRvbGluayBsaW5rIGltYWdlIGxpc3RzIGNoYXJtYXAgaHIgYW5jaG9yIHNwZWxsY2hlY2tlcicsXG4gICAgICAgICdzZWFyY2hyZXBsYWNlIHdvcmRjb3VudCB2aXN1YWxibG9ja3MgdmlzdWFsY2hhcnMgY29kZSBmdWxsc2NyZWVuIGluc2VydGRhdGV0aW1lIG1lZGlhIG5vbmJyZWFraW5nJyxcbiAgICAgICAgJ3RhYmxlIGNvbnRleHRtZW51IGRpcmVjdGlvbmFsaXR5IGVtb3RpY29ucyBwYXN0ZSB0ZXh0Y29sb3InLFxuICAgICAgXSxcbiAgICAgIHJlbW92ZWRfbWVudWl0ZW1zOiAnbmV3ZG9jdW1lbnQnLFxuICAgICAgLy9jb250ZW50X2NzczogXCJjc3MvY29udGVudC5jc3NcIixcbiAgICAgIHRvb2xiYXI6ICdpbnNlcnRmaWxlIHVuZG8gcmVkbyB8IHN0eWxlc2VsZWN0IHwgZm9udHNpemVzZWxlY3QgfCBib2xkIGl0YWxpYyB1bmRlcmxpbmUgfCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnkgfCBidWxsaXN0IG51bWxpc3Qgb3V0ZGVudCBpbmRlbnQgfCBsaW5rIGltYWdlIG1lZGlhIGZ1bGxwYWdlIHwgZm9yZWNvbG9yIGJhY2tjb2xvciBlbW90aWNvbnMnLFxuICAgICAgc3R5bGVfZm9ybWF0czogW1xuICAgICAgICB7IHRpdGxlOiAnQm9sZCB0ZXh0JywgaW5saW5lOiAnYicgfSxcbiAgICAgICAgeyB0aXRsZTogJ1JlZCB0ZXh0JywgaW5saW5lOiAnc3BhbicsIHN0eWxlczogeyBjb2xvcjogJyNmZjAwMDAnIH0gfSxcbiAgICAgICAgeyB0aXRsZTogJ1JlZCBoZWFkZXInLCBibG9jazogJ2gxJywgc3R5bGVzOiB7IGNvbG9yOiAnI2ZmMDAwMCcgfSB9LFxuICAgICAgXSxcbiAgICAgIHJlbF9saXN0OiBbXG4gICAgICAgIC8ve3RpdGxlOiAnTGlnaHRib3gnLCB2YWx1ZTogJ2xpZ2h0Ym94J30sXG4gICAgICAgIC8ve3RpdGxlOiAnVGFibGUgb2YgY29udGVudHMnLCB2YWx1ZTogJ3RvYyd9LFxuICAgICAgICB7IHRpdGxlOiAnRG8gRm9sbG93JywgdmFsdWU6ICdmb2xsb3cnIH0sXG4gICAgICAgIHsgdGl0bGU6ICdObyBGb2xsb3cnLCB2YWx1ZTogJ25vZm9sbG93JyB9LFxuICAgICAgXSxcbiAgICAgIC8vIHVwZGF0ZSB2YWxpZGF0aW9uIHN0YXR1cyBvbiBjaGFuZ2VcbiAgICAgIG9uY2hhbmdlX2NhbGxiYWNrOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdGlueU1DRS50cmlnZ2VyU2F2ZSgpO1xuICAgICAgICAkKCcjJyArIGVkaXRvci5pZCkudmFsaWQoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoJCgnLnRpbnltY2VfYmFzaWMnKS5sZW5ndGgpIHtcbiAgICB0aW55bWNlLmluaXQoe1xuICAgICAgc2VsZWN0b3I6ICcudGlueW1jZV9iYXNpYycsXG4gICAgICByZWxhdGl2ZV91cmxzOiBmYWxzZSxcbiAgICAgIHJlbW92ZV9zY3JpcHRfaG9zdDogZmFsc2UsXG5cbiAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgJ2Fkdmxpc3QgYXV0b2xpbmsgbGluayBpbWFnZSBsaXN0cyBjaGFybWFwIGhyIGFuY2hvciBzcGVsbGNoZWNrZXInLFxuICAgICAgICAnc2VhcmNocmVwbGFjZSB3b3JkY291bnQgdmlzdWFsYmxvY2tzIHZpc3VhbGNoYXJzIGNvZGUgZnVsbHNjcmVlbiBpbnNlcnRkYXRldGltZSBtZWRpYSBub25icmVha2luZycsXG4gICAgICAgICd0YWJsZSBjb250ZXh0bWVudSBkaXJlY3Rpb25hbGl0eSBlbW90aWNvbnMgcGFzdGUgdGV4dGNvbG9yJyxcbiAgICAgIF0sXG4gICAgICByZW1vdmVkX21lbnVpdGVtczogJ25ld2RvY3VtZW50JyxcbiAgICAgIG1lbnViYXI6IGZhbHNlLFxuICAgICAgdG9vbGJhcjogJ2JvbGQgaXRhbGljIHVuZGVybGluZSB8IGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeSB8IGJ1bGxpc3QgbnVtbGlzdCBvdXRkZW50IGluZGVudCB8IGxpbmsgaW1hZ2UgbWVkaWEnLFxuICAgICAgcmVsX2xpc3Q6IFtcbiAgICAgICAgLy97dGl0bGU6ICdMaWdodGJveCcsIHZhbHVlOiAnbGlnaHRib3gnfSxcbiAgICAgICAgLy97dGl0bGU6ICdUYWJsZSBvZiBjb250ZW50cycsIHZhbHVlOiAndG9jJ30sXG4gICAgICAgIHsgdGl0bGU6ICdEbyBGb2xsb3cnLCB2YWx1ZTogJ2ZvbGxvdycgfSxcbiAgICAgICAgeyB0aXRsZTogJ05vIEZvbGxvdycsIHZhbHVlOiAnbm9mb2xsb3cnIH0sXG4gICAgICBdLFxuICAgICAgLy8gdXBkYXRlIHZhbGlkYXRpb24gc3RhdHVzIG9uIGNoYW5nZVxuICAgICAgb25jaGFuZ2VfY2FsbGJhY2s6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB0aW55TUNFLnRyaWdnZXJTYXZlKCk7XG4gICAgICAgICQoJyMnICsgZWRpdG9yLmlkKS52YWxpZCgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgkKCcudGlueW1jZV9pbWFnZXVwbG9hZCcpLmxlbmd0aCkge1xuICAgIHRpbnltY2UuaW5pdCh7XG4gICAgICBzZWxlY3RvcjogJy50aW55bWNlX2ltYWdldXBsb2FkJyxcbiAgICAgIHJlbGF0aXZlX3VybHM6IGZhbHNlLFxuICAgICAgcmVtb3ZlX3NjcmlwdF9ob3N0OiBmYWxzZSxcbiAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgJ2ltYWdlJyxcbiAgICAgIF0sXG4gICAgICByZW1vdmVkX21lbnVpdGVtczogJ25ld2RvY3VtZW50JyxcbiAgICAgIHRvb2xiYXI6ICdpbWFnZScsXG4gICAgICAvLyB1cGRhdGUgdmFsaWRhdGlvbiBzdGF0dXMgb24gY2hhbmdlXG4gICAgICBvbmNoYW5nZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHRpbnlNQ0UudHJpZ2dlclNhdmUoKTtcbiAgICAgICAgJCgnIycgKyBlZGl0b3IuaWQpLnZhbGlkKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJy5jbGVhckZvcm1CdXR0b24nKS5sZW5ndGgpIHtcbiAgICAkKCcuY2xlYXJGb3JtQnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICBib290Ym94LmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjbGVhciB0aGlzIGZvcm0/JywgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgPT0gdHJ1ZSkge1xuICAgICAgICAgICQodGhpcykucGFyZW50cygnZm9ybTpmaXJzdCcpLmNsZWFyRm9ybSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgkKCdpbnB1dC5taW5pY29sb3JzJykubGVuZ3RoKSB7XG4gICAgJCgnaW5wdXQubWluaWNvbG9ycycpLm1pbmljb2xvcnMoe1xuICAgICAgY29udHJvbDogJ2h1ZScsXG4gICAgICBkZWZhdWx0VmFsdWU6ICQodGhpcykuYXR0cigndmFsdWUnKSB8fCAnJyxcbiAgICAgIGlubGluZTogJCh0aGlzKS5hdHRyKCdkYXRhLWlubGluZScpID09PSAndHJ1ZScsXG4gICAgICBsZXR0ZXJDYXNlOiAnbG93ZXJjYXNlJyxcbiAgICAgIG9wYWNpdHk6ICQodGhpcykuYXR0cignZGF0YS1vcGFjaXR5JyksXG4gICAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgIGNoYW5nZTogZnVuY3Rpb24oaGV4LCBvcGFjaXR5KSB7XG4gICAgICAgIGxldCBsb2c7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9nID0gaGV4ID8gaGV4IDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICBpZiAob3BhY2l0eSkge1xuICAgICAgICAgICAgbG9nICs9ICcsICcgKyBvcGFjaXR5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZyhsb2cpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfSxcbiAgICAgIHRoZW1lOiAnYm9vdHN0cmFwJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgkKCdpbnB1dC5pY29uLXBpY2tlcicpLmxlbmd0aCkge1xuICAgICQoJ2lucHV0Lmljb24tcGlja2VyJykuaWNvblBpY2tlcigpO1xuICB9XG5cbiAgaWYgKCQoJ2lucHV0LnRvZ2dsZScpLmxlbmd0aCkge1xuICAgICQoJ2lucHV0LnRvZ2dsZScpLmJvb3RzdHJhcFN3aXRjaCgpO1xuICB9XG5cbiAgaWYgKCQoJ3VsI2dyYXBoTGlua3MnKS5sZW5ndGgpIHtcbiAgICBsZXQgY3R4ID0gJCgnI2dyYXBoc0NoYXJ0JykuZ2V0KDApLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAkKCd1bCNncmFwaExpbmtzIGEnKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKCcjYnVpbHRpbkdyYXBoUmVzcG9uc2UnKS5odG1sKCcnKTtcbiAgICAgICQoJyNncmFwaFRpdGxlJykuaHRtbCgkKHRoaXMpLmh0bWwoKSk7XG5cbiAgICAgIGxldCBteU5ld0NoYXJ0ID0gbmV3IENoYXJ0KGN0eCk7XG4gICAgICB3aW5kb3dbJCh0aGlzKS5hdHRyKCdpZCcpXShjdHgpOyAvLyBDYWxsIHRoZSBmdW5jdGlvblxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJ2Rpdi5zZWxlY3Rpb25QcmV2aWV3JykubGVuZ3RoKSB7XG4gICAgJCgnZGl2LnNlbGVjdGlvblByZXZpZXcnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gRGV0ZXJtaW5lIG91ciBzZXR0aW5nc1xuICAgICAgbGV0IGlkID0gdGhpcy5pZDtcbiAgICAgIGxldCBzZWxlY3RCb3ggPSBpZC5yZXBsYWNlKCdQcmV2aWV3JywgJycpO1xuXG4gICAgICAkKCdzZWxlY3QjJyArIHNlbGVjdEJveCkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBSZXNldCB0aGUgcHJldmlldyBib3hcbiAgICAgICAgJCgnIycgKyBpZCkuYXR0cignY2xhc3MnLCAnc2VsZWN0aW9uUHJldmlldycpO1xuICAgICAgICAkKCcjJyArIGlkICsgJyBpbWcnKS5hdHRyKCdjbGFzcycsICcnKS5zaG93KCk7XG5cbiAgICAgICAgLy8gVHJ5IGFuZCBnZXQgYSBKUyBzY3JpcHQgdG8gc2hvdyB0aGUgcHJldmlldyBmb3IgdGhlIGl0ZW1cbiAgICAgICAgJC5nZXRTY3JpcHQoU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj1zaG93U2VsZWN0aW9uUHJldmlldyZzZWxlY3Rpb25JRD0nICsgc2VsZWN0Qm94ICsgJyZ2YWx1ZT0nICsgJCh0aGlzKS52YWwoKSk7XG4gICAgICB9KS5jaGFuZ2UoKTsgLy8gVHJpZ2dlciB0aGUgY2hhbmdlIHNvIHdlIGdldCBhbiBhY2N1cmF0ZSBwcmV2aWV3IG9uIHBhZ2UgbG9hZCBcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgkKCcjY2hhbmdlUGFzc3dvcmRMaW5rJykubGVuZ3RoKSB7XG4gICAgJCgnI2NoYW5nZVBhc3N3b3JkTGluaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGJvb3Rib3guZGlhbG9nKHtcbiAgICAgICAgbWVzc2FnZTogJzxmb3JtIG5hbWU9XCJjaGFuZ2VQYXNzd29yZEZvcm1cIiBpZD1cImNoYW5nZVBhc3N3b3JkRm9ybVwiIGFjdGlvbj1cIlwiIG1ldGhvZD1cInBvc3RcIiBjbGFzcz1cImZvcm0taG9yaXpvbnRhbFwiIHJvbGU9XCJmb3JtXCIgb25zdWJtaXQ9XCJyZXR1cm4gZmFsc2U7XCI+PGZpZWxkc2V0PjxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+PGxhYmVsIGZvcj1cInBhc3N3b3JkXCIgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1sZy00XCI+UGFzc3dvcmQgPHN1cD4qPC9zdXA+IDwvbGFiZWw+IDxkaXYgY2xhc3M9XCJjb2wtbGctOFwiPjxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgcmVxdWlyZWRcIiBzaXplPVwiNjBcIiB2YWx1ZT1cIlwiIC8+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48bGFiZWwgZm9yPVwicGFzc3dvcmQyXCIgY2xhc3M9XCJjb250cm9sLWxhYmVsIGNvbC1sZy00XCI+Q29uZmlybSBQYXNzd29yZCA8c3VwPio8L3N1cD4gPC9sYWJlbD4gPGRpdiBjbGFzcz1cImNvbC1sZy04XCI+PGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZDJcIiBpZD1cInBhc3N3b3JkMlwiIGNsYXNzPVwiZm9ybS1jb250cm9sIHJlcXVpcmVkXCIgc2l6ZT1cIjYwXCIgICB2YWx1ZT1cIlwiIC8+PC9kaXY+PC9kaXY+PC9maWVsZHNldD48L2Zvcm0+JyxcbiAgICAgICAgdGl0bGU6ICdDaGFuZ2UgUGFzc3dvcmQnLFxuICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgbGFiZWw6ICdDaGFuZ2UgUGFzc3dvcmQnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLXN1Y2Nlc3MnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBqUXVlcnkucG9zdChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPWNoYW5nZVBhc3N3b3JkJywgJCgnI2NoYW5nZVBhc3N3b3JkRm9ybScpLnNlcmlhbGl6ZSgpLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgYm9vdGJveC5hbGVydChkYXRhKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGFuZ2VyOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0NhbmNlbCcsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4tZGVmYXVsdCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgUGFzc3dvcmRcbiAgaWYgKCQoJy5nZW5lcmF0ZVBhc3N3b3JkTGluaycpLmxlbmd0aCkge1xuICAgICQoJy5nZW5lcmF0ZVBhc3N3b3JkTGluaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgalF1ZXJ5LnBvc3QoU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj1nZW5lcmF0ZVBhc3N3b3JkJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBib290Ym94LmRpYWxvZyh7XG4gICAgICAgICAgbWVzc2FnZTogJzxoMiBjbGFzcz1cImdlbmVyYXRlZFBhc3N3b3JkXCI+JyArIGRhdGEgKyAnPC9oMj4nLFxuICAgICAgICAgIHRpdGxlOiAnR2VuZXJhdGUgUGFzc3dvcmQnLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICAgICAgbGFiZWw6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tY2hlY2tcIj48L3NwYW4+IFVzZSBUaGlzIFBhc3N3b3JkJyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLXN1Y2Nlc3MnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJChzZWxmKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCc6cGFzc3dvcmQnKS52YWwoJCgnLmdlbmVyYXRlZFBhc3N3b3JkJykuaHRtbCgpKS5lZmZlY3QoJ2hpZ2hsaWdodCcsIHt9LCA1MDApO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2VuOiB7XG4gICAgICAgICAgICAgIGxhYmVsOiAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlZnJlc2hcIj48L3NwYW4+IFJlZ2VuZXJhdGUnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4taW5mbycsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVHZW5lcmF0ZWRQYXNzd29yZCgnLmdlbmVyYXRlZFBhc3N3b3JkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBQYXNzd29yZCBzdHJlbmd0aFxuICBpZiAoJCgnOnBhc3N3b3JkLnNob3dTdHJlbmd0aCcpLmxlbmd0aCkge1xuICAgIGxldCBvcHRpb25zID0ge307XG4gICAgb3B0aW9ucy51aSA9IHtcbiAgICAgIGNvbnRhaW5lcjogJyNwd2QtY29udGFpbmVyJyxcbiAgICAgIHNob3dWZXJkaWN0c0luc2lkZVByb2dyZXNzQmFyOiB0cnVlLFxuICAgICAgdmlld3BvcnRzOiB7XG4gICAgICAgIHByb2dyZXNzOiAnLnB3c3RyZW5ndGhfdmlld3BvcnRfcHJvZ3Jlc3MnLFxuICAgICAgfSxcbiAgICB9O1xuICAgIG9wdGlvbnMuY29tbW9uID0ge1xuICAgICAgZGVidWc6IHRydWUsXG4gICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCcjbWVzc2FnZXMnKS50ZXh0KCdTdGFydCB0eXBpbmcgcGFzc3dvcmQnKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgICAkKCc6cGFzc3dvcmQuc2hvd1N0cmVuZ3RoJykucHdzdHJlbmd0aChvcHRpb25zKTtcbiAgfVxufSk7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBBamF4IEZ1bmN0aW9uc1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIGFqYXhEZWxldGVOb3RpZmllcihzcGluRGl2SUQsIGFjdGlvbiwgdGV4dCwgcm93KSB7XG4gIGJvb3Rib3guY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzICcgKyB0ZXh0ICsgJz8nLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0ID09IHRydWUpIHtcbiAgICAgICQoJyMnICsgc3BpbkRpdklEKS50b2dnbGUoKTtcbiAgICAgIGpRdWVyeS5nZXQoYWN0aW9uLCBmdW5jdGlvbihkYXRhKSB7ICQoJyMnICsgcm93KS5oaWRlKCk7IH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFqYXhHZXRXaXRoUHJvZ3Jlc3Moc3BpbkRpdklELCBhY3Rpb24pIHtcbiAgJCgnIycgKyBzcGluRGl2SUQpLnRvZ2dsZSgpO1xuICBqUXVlcnkuZ2V0KGFjdGlvbiwgZnVuY3Rpb24oZGF0YSkgeyAkKCcjJyArIHNwaW5EaXZJRCkudG9nZ2xlKCk7IH0pO1xufVxuXG5mdW5jdGlvbiBhamF4UXVpY2tEaXZVcGRhdGUoYWN0aW9uLCBkaXZJRCwgc3Bpbm5lckhUTUwpIHtcbiAgalF1ZXJ5LmdldChhY3Rpb24sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAvLyBDbGVhciB0aGUgY3VycmVudCBncmFwaCBhbmQgc2hvdyB0aGUgbmV3IG9uZVxuICAgICQoJyMnICsgZGl2SUQpLmh0bWwoc3Bpbm5lckhUTUwpLmh0bWwoZGF0YSk7XG4gIH0pO1xufVxuXG4kLmZuLmNsZWFyRm9ybSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIGxldCB0eXBlID0gdGhpcy50eXBlLCB0YWcgPSB0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodGFnID09PSAnZm9ybScpIHtcbiAgICAgIHJldHVybiAkKCc6aW5wdXQnLCB0aGlzKS5jbGVhckZvcm0oKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlID09PSAncGFzc3dvcmQnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJykge1xuICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nKSB7XG4gICAgICB0aGlzLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIH1cbiAgfSk7XG59O1xuXG5mdW5jdGlvbiByZXR1cm5TdWNjZXNzTWVzc2FnZShpdGVtTmFtZSkge1xuICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiZ3JlZW5UZXh0IGJvbGRcIj5TdWNjZXNzZnVsbHkgY3JlYXRlZCAnICsgaXRlbU5hbWUgKyAnITwvc3Bhbj4nO1xufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLy8gQWpheCBGdW5jdGlvbnMgLSBNb2R1bGVzXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZnVuY3Rpb24gYWpheEluc3RhbGxNb2R1bGUocHJlZml4KSB7XG4gIGxldCBob2xkZXJEaXZJRCA9ICdzdGF0dXNCdXR0b25Ib2xkZXJfJyArIHByZWZpeDtcblxuICAkKCcjJyArIGhvbGRlckRpdklEKS5odG1sKCdMb2FkaW5nLi4uJyk7XG4gIGpRdWVyeS5nZXQoU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj1pbnN0YWxsTW9kdWxlJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXNob3dNb2R1bGVTdGF0dXNCdXR0b25zJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAkKCcjJyArIGhvbGRlckRpdklEKS5odG1sKGRhdGEpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWpheFVuaW5zdGFsbE1vZHVsZShwcmVmaXgpIHtcbiAgbGV0IGhvbGRlckRpdklEID0gJ3N0YXR1c0J1dHRvbkhvbGRlcl8nICsgcHJlZml4O1xuXG4gICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoJ0xvYWRpbmcuLi4nKTtcbiAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXVuaW5zdGFsbE1vZHVsZSZwcmVmaXg9JyArIHByZWZpeCwgZnVuY3Rpb24oZGF0YSkge1xuICAgIGpRdWVyeS5nZXQoU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj1zaG93TW9kdWxlU3RhdHVzQnV0dG9ucyZwcmVmaXg9JyArIHByZWZpeCwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgJCgnIycgKyBob2xkZXJEaXZJRCkuaHRtbChkYXRhKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFqYXhBY3RpdmF0ZU1vZHVsZShwcmVmaXgpIHtcbiAgbGV0IGhvbGRlckRpdklEID0gJ3N0YXR1c0J1dHRvbkhvbGRlcl8nICsgcHJlZml4O1xuXG4gICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoJ0xvYWRpbmcuLi4nKTtcbiAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPWFjdGl2YXRlTW9kdWxlJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXNob3dNb2R1bGVTdGF0dXNCdXR0b25zJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAkKCcjJyArIGhvbGRlckRpdklEKS5odG1sKGRhdGEpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWpheERlYWN0aXZhdGVNb2R1bGUocHJlZml4KSB7XG4gIGxldCBob2xkZXJEaXZJRCA9ICdzdGF0dXNCdXR0b25Ib2xkZXJfJyArIHByZWZpeDtcblxuICAkKCcjJyArIGhvbGRlckRpdklEKS5odG1sKCdMb2FkaW5nLi4uJyk7XG4gIGpRdWVyeS5nZXQoU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj1kZWFjdGl2YXRlTW9kdWxlJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXNob3dNb2R1bGVTdGF0dXNCdXR0b25zJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAkKCcjJyArIGhvbGRlckRpdklEKS5odG1sKGRhdGEpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8vIFVzZXIgcmVsYXRlZCBGdW5jdGlvbnNcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5mdW5jdGlvbiB1cGRhdGVHZW5lcmF0ZWRQYXNzd29yZChzZWxlY3Rvcikge1xuICAkKHNlbGVjdG9yKS5odG1sKCdHZW5lcmF0aW5nLi4uJyk7XG4gIGpRdWVyeS5nZXQoU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj1nZW5lcmF0ZVBhc3N3b3JkJywgZnVuY3Rpb24oZGF0YSkge1xuICAgICQoc2VsZWN0b3IpLmh0bWwoZGF0YSk7XG4gIH0pO1xufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIGFkZEVkaXRhYmxlKGZpZWxkcywgb3B0aW9ucykge1xuICAkLmVhY2goZmllbGRzLCBmdW5jdGlvbigpIHtcbiAgICAvLyBEZXRlcm1pbmUgb3VyIHNldHRpbmdzXG4gICAgbGV0IGlkID0gdGhpcztcbiAgICBsZXQgdGFibGUgPSBpZC5yZXBsYWNlKC9lZGl0LShbYS16QS1aX10rPyktKFswLTldKz8pXyguKikvLCAnJDEnKTtcbiAgICBsZXQgZGJJRCA9IGlkLnJlcGxhY2UoL2VkaXQtKFthLXpBLVpfXSs/KS0oWzAtOV0rPylfKC4qKS8sICckMicpO1xuICAgIGxldCBuYW1lID0gaWQucmVwbGFjZSgvZWRpdC0oW2EtekEtWl9dKz8pLShbMC05XSs/KV8oLiopLywgJyQzJyk7XG5cbiAgICBsZXQgZGVmYXVsdF9vcHRpb25zID0ge1xuICAgICAgaWQ6ICdjc3NJRCcsXG4gICAgICBjYW5jZWw6ICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBlZGl0YWJsZS1jYW5jZWxcIiB0eXBlPVwiYnV0dG9uXCI+PGkgY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiPjwvaT48L2J1dHRvbj4nLFxuICAgICAgc3VibWl0OiAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc20gZWRpdGFibGUtc3VibWl0XCIgdHlwZT1cInN1Ym1pdFwiPjxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1va1wiPjwvaT48L2J1dHRvbj4nLFxuICAgICAgaW5kaWNhdG9yOiBpbmRpY2F0b3JJbWFnZSxcbiAgICAgIHRvb2x0aXA6ICdDbGljayB0byBlZGl0Li4uJyxcbiAgICAgIHN0eWxlOiAnZGlzcGxheTogaW5saW5lOycsXG4gICAgICB3aWR0aDogJ25vbmUnLFxuICAgIH07XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0X29wdGlvbnMsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmxvYWR1cmwpIHsgb3B0aW9ucy5sb2FkdXJsICs9ICcmaWQ9JyArIGRiSUQ7IH1cblxuICAgICQoJyMnICsgaWQpLmFkZENsYXNzKCdlZGl0YWJsZUl0ZW1Ib2xkZXInKS5lZGl0YWJsZShcbiAgICAgIFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249dXBkYXRlaXRlbSZ0YWJsZT0nICsgdGFibGUgKyAnJml0ZW09JyArIG5hbWUgKyAnJmlkPScgKyBkYklELFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICB9KTtcbn1cblxuLypcbmZ1bmN0aW9uIGFkZEVkaXRhYmxlKCBmaWVsZHMsIHRhYmxlICkge1xuXHQkLmVhY2goZmllbGRzLCBmdW5jdGlvbigpIHtcblx0XHQvLyBEZXRlcm1pbmUgb3VyIHNldHRpbmdzXG5cdFx0aWQgPSB0aGlzO1xuXHRcdGRiSUQgPSBpZC5yZXBsYWNlKC9lZGl0LShbMC05XSs/KV8oLiopLywgJyQxJyk7XG5cdFx0bmFtZSA9IGlkLnJlcGxhY2UoL2VkaXQtKFswLTldKz8pXyguKikvLCAnJDInKTtcblx0XHRcblx0XHQkKCcjJyArIGlkKS5lZGl0YWJsZSh7XG5cdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRwazogZGJJRCxcblx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHR1cmw6IFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249dXBkYXRlaXRlbSZ0YWJsZT0nICsgdGFibGUsXG5cdFx0XHR0aXRsZTogJ0VudGVyIFRleHQnLFxuXHRcdH0pO1xuXHR9KTtcbn1cdFxuZnVuY3Rpb24gYWRkRWRpdGFibGVTZWxlY3QoIGZpZWxkcywgc291cmNlICkge1xuXHQkLmVhY2goZmllbGRzLCBmdW5jdGlvbigpIHtcblx0XHQvLyBEZXRlcm1pbmUgb3VyIHNldHRpbmdzXG5cdFx0aWQgPSAnJztcblx0XHRuYW1lID0gJyc7XG5cdFx0dGFibGUgPSAnJztcblx0XHRcblx0XHQkKHRoaXMpLmVkaXRhYmxlKHtcblx0XHRcdHR5cGU6ICdzZWxlY3QnLFxuXHRcdFx0cGs6IGlkLFxuXHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdHNvdXJjZTogc291cmNlLFxuXHRcdFx0dXJsOiBTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXVwZGF0ZWl0ZW0mdGFibGU9JyArIHRhYmxlLFxuXHRcdH0pO1xuXHR9KTtcbn1cbiovIl19
