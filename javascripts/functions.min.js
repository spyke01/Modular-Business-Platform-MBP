require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var graphs_fillColor = 'rgba(220,220,220,0.5)';
var graphs_strokeColor = 'rgba(220,220,220,1)';
/*-------------------------------------------------------------------------*/
// Page Load Functions

/*-------------------------------------------------------------------------*/

$(document).ready(function () {
  // Handle tabs
  $('.tabs').tabs(); // Edits are inline
  //$.fn.editable.defaults.mode = 'popup';
  // Navigation dropdown fix for IE6

  /*
  if(jQuery.browser.version.substr(0,1) < 7) {
    $('#nav li').hover(
      function() { $(this).addClass('iehover'); },
      function() { $(this).removeClass('iehover'); }
    );
  }
  */
  // Autosize all textareas
  //$('textarea').autosize(); 
  // Add select2

  $('select.select2').select2(); // TinyMCE

  if ($('.tinymce').length) {
    tinymce.init({
      selector: '.tinymce',
      relative_urls: false,
      remove_script_host: false,
      plugins: ['advlist autolink link image lists charmap hr anchor spellchecker', 'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking', 'table directionality emoticons paste'],
      removed_menuitems: 'newdocument',
      //content_css: "css/content.css",
      toolbar: 'insertfile undo redo | styleselect | fontsizeselect | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media fullpage | forecolor backcolor emoticons',
      style_formats: [{
        title: 'Bold text',
        inline: 'b'
      }, {
        title: 'Red text',
        inline: 'span',
        styles: {
          color: '#ff0000'
        }
      }, {
        title: 'Red header',
        block: 'h1',
        styles: {
          color: '#ff0000'
        }
      }],
      rel_list: [//{title: 'Lightbox', value: 'lightbox'},
      //{title: 'Table of contents', value: 'toc'},
      {
        title: 'Do Follow',
        value: 'follow'
      }, {
        title: 'No Follow',
        value: 'nofollow'
      }],
      // update validation status on change
      onchange_callback: function onchange_callback(editor) {
        tinyMCE.triggerSave();
        $('#' + editor.id).valid();
      }
    });
  }

  if ($('.tinymce_basic').length) {
    tinymce.init({
      selector: '.tinymce_basic',
      relative_urls: false,
      remove_script_host: false,
      plugins: ['advlist autolink link image lists charmap hr anchor spellchecker', 'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking', 'table directionality emoticons paste'],
      removed_menuitems: 'newdocument',
      menubar: false,
      toolbar: 'bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media',
      rel_list: [//{title: 'Lightbox', value: 'lightbox'},
      //{title: 'Table of contents', value: 'toc'},
      {
        title: 'Do Follow',
        value: 'follow'
      }, {
        title: 'No Follow',
        value: 'nofollow'
      }],
      // update validation status on change
      onchange_callback: function onchange_callback(editor) {
        tinyMCE.triggerSave();
        $('#' + editor.id).valid();
      }
    });
  }

  if ($('.tinymce_imageupload').length) {
    tinymce.init({
      selector: '.tinymce_imageupload',
      relative_urls: false,
      remove_script_host: false,
      plugins: ['image'],
      removed_menuitems: 'newdocument',
      toolbar: 'image',
      // update validation status on change
      onchange_callback: function onchange_callback(editor) {
        tinyMCE.triggerSave();
        $('#' + editor.id).valid();
      }
    });
  }

  if ($('.clearFormButton').length) {
    $('.clearFormButton').click(function () {
      bootbox.confirm('Are you sure you want to clear this form?', function (result) {
        if (result == true) {
          $(this).parents('form:first').clearForm();
        }
      });
    });
  }

  if ($('input.minicolors').length) {
    $('input.minicolors').minicolors({
      control: 'hue',
      defaultValue: $(this).attr('value') || '',
      inline: $(this).attr('data-inline') === 'true',
      letterCase: 'lowercase',
      opacity: $(this).attr('data-opacity'),
      position: 'bottom left',
      change: function change(hex, opacity) {
        var log;

        try {
          log = hex ? hex : 'transparent';

          if (opacity) {
            log += ', ' + opacity;
          }

          console.log(log);
        } catch (e) {}
      }
    });
  }

  if ($('input.icon-picker').length) {
    $('input.icon-picker').iconPicker();
  }

  if ($('input.toggle').length) {
    $('input.toggle').bootstrapSwitch();
  }

  if ($('ul#graphLinks').length) {
    var ctx = $('#graphsChart').get(0).getContext('2d');
    $('ul#graphLinks a').click(function (e) {
      e.preventDefault();
      $('#builtinGraphResponse').html('');
      $('#graphTitle').html($(this).html());
      var myNewChart = new Chart(ctx);
      window[$(this).attr('id')](ctx); // Call the function
    });
  }

  if ($('div.selectionPreview').length) {
    $('div.selectionPreview').each(function () {
      // Determine our settings
      var id = this.id;
      var selectBox = id.replace('Preview', '');
      $('select#' + selectBox).change(function () {
        // Reset the preview box
        $('#' + id).attr('class', 'selectionPreview');
        $('#' + id + ' img').attr('class', '').show(); // Try and get a JS script to show the preview for the item

        $.getScript(SITE_URL + '/ajax.php?action=showSelectionPreview&selectionID=' + selectBox + '&value=' + $(this).val());
      }).change(); // Trigger the change so we get an accurate preview on page load 
    });
  }

  if ($('#changePasswordLink').length) {
    $('#changePasswordLink').click(function (e) {
      e.preventDefault();
      bootbox.dialog({
        message: '<form name="changePasswordForm" id="changePasswordForm" action="" method="post" class="form-horizontal" role="form" onsubmit="return false;"><fieldset><div class="form-group"><label for="password" class="control-label col-lg-4">Password <sup>*</sup> </label> <div class="col-lg-8"><input type="password" name="password" id="password" class="form-control required" size="60" value="" /></div></div><div class="form-group"><label for="password2" class="control-label col-lg-4">Confirm Password <sup>*</sup> </label> <div class="col-lg-8"><input type="password" name="password2" id="password2" class="form-control required" size="60"   value="" /></div></div></fieldset></form>',
        title: 'Change Password',
        buttons: {
          success: {
            label: 'Change Password',
            className: 'btn-success',
            callback: function callback() {
              jQuery.post(SITE_URL + '/ajax.php?action=changePassword', $('#changePasswordForm').serialize(), function (data) {
                bootbox.alert(data);
              });
            }
          },
          danger: {
            label: 'Cancel',
            className: 'btn-default'
          }
        }
      });
    });
  } // Generate Password


  if ($('.generatePasswordLink').length) {
    $('.generatePasswordLink').click(function (e) {
      var self = this;
      e.preventDefault();
      jQuery.post(SITE_URL + '/ajax.php?action=generatePassword', function (data) {
        bootbox.dialog({
          message: '<h2 class="generatedPassword">' + data + '</h2>',
          title: 'Generate Password',
          buttons: {
            success: {
              label: '<span class="glyphicon glyphicon-check"></span> Use This Password',
              className: 'btn-success',
              callback: function callback() {
                $(self).parent().parent().find(':password').val($('.generatedPassword').html()).effect('highlight', {}, 500);
              }
            },
            regen: {
              label: '<span class="glyphicon glyphicon-refresh"></span> Regenerate',
              className: 'btn-info',
              callback: function callback() {
                updateGeneratedPassword('.generatedPassword');
                return false;
              }
            }
          }
        });
      });
    });
  } // Password strength


  if ($(':password.showStrength').length) {
    var options = {};
    options.ui = {
      container: '#pwd-container',
      showVerdictsInsideProgressBar: true,
      viewports: {
        progress: '.pwstrength_viewport_progress'
      }
    };
    options.common = {
      debug: true,
      onLoad: function onLoad() {
        $('#messages').text('Start typing password');
      }
    };
    $(':password.showStrength').pwstrength(options);
  }
});
/*-------------------------------------------------------------------------*/
// Ajax Functions

/*-------------------------------------------------------------------------*/

function ajaxDeleteNotifier(spinDivID, action, text, row) {
  bootbox.confirm('Are you sure you want to delete this ' + text + '?', function (result) {
    if (result == true) {
      $('#' + spinDivID).toggle();
      jQuery.get(action, function (data) {
        $('#' + row).hide();
      });
    }
  });
}

function ajaxGetWithProgress(spinDivID, action) {
  $('#' + spinDivID).toggle();
  jQuery.get(action, function (data) {
    $('#' + spinDivID).toggle();
  });
}

function ajaxQuickDivUpdate(action, divID, spinnerHTML) {
  jQuery.get(action, function (data) {
    // Clear the current graph and show the new one
    $('#' + divID).html(spinnerHTML).html(data);
  });
}

$.fn.clearForm = function () {
  return this.each(function () {
    var type = this.type,
        tag = this.tagName.toLowerCase();

    if (tag === 'form') {
      return $(':input', this).clearForm();
    }

    if (type === 'text' || type === 'password' || tag === 'textarea') {
      this.value = '';
    } else if (type === 'checkbox' || type === 'radio') {
      this.checked = false;
    } else if (tag === 'select') {
      this.selectedIndex = -1;
    }
  });
};

function returnSuccessMessage(itemName) {
  return '<span class="greenText bold">Successfully created ' + itemName + '!</span>';
}
/*-------------------------------------------------------------------------*/
// Ajax Functions - Modules

/*-------------------------------------------------------------------------*/


function ajaxInstallModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=installModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}

function ajaxUninstallModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=uninstallModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}

function ajaxActivateModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=activateModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}

function ajaxDeactivateModule(prefix) {
  var holderDivID = 'statusButtonHolder_' + prefix;
  $('#' + holderDivID).html('Loading...');
  jQuery.get(SITE_URL + '/ajax.php?action=deactivateModule&prefix=' + prefix, function (data) {
    jQuery.get(SITE_URL + '/ajax.php?action=showModuleStatusButtons&prefix=' + prefix, function (data) {
      $('#' + holderDivID).html(data);
    });
  });
}
/*-------------------------------------------------------------------------*/
// User related Functions

/*-------------------------------------------------------------------------*/


function updateGeneratedPassword(selector) {
  $(selector).html('Generating...');
  jQuery.get(SITE_URL + '/ajax.php?action=generatePassword', function (data) {
    $(selector).html(data);
  });
}
/*-------------------------------------------------------------------------*/
// Helper Functions

/*-------------------------------------------------------------------------*/


function addEditable(fields, options) {
  $.each(fields, function () {
    // Determine our settings
    var id = this;
    var table = id.replace(/edit-([a-zA-Z_]+?)-([0-9]+?)_(.*)/, '$1');
    var dbID = id.replace(/edit-([a-zA-Z_]+?)-([0-9]+?)_(.*)/, '$2');
    var name = id.replace(/edit-([a-zA-Z_]+?)-([0-9]+?)_(.*)/, '$3');
    var default_options = {
      id: 'cssID',
      cancel: '<button class="btn btn-default btn-sm editable-cancel" type="button"><i class="glyphicon glyphicon-remove"></i></button>',
      submit: '<button class="btn btn-primary btn-sm editable-submit" type="submit"><i class="glyphicon glyphicon-ok"></i></button>',
      indicator: indicatorImage,
      tooltip: 'Click to edit...',
      style: 'display: inline;',
      width: 'none'
    };
    options = $.extend({}, default_options, options);

    if (options.loadurl) {
      options.loadurl += '&id=' + dbID;
    }

    $('#' + id).addClass('editableItemHolder').editable(SITE_URL + '/ajax.php?action=updateitem&table=' + table + '&item=' + name + '&id=' + dbID, options);
  });
}
/*
function addEditable( fields, table ) {
	$.each(fields, function() {
		// Determine our settings
		id = this;
		dbID = id.replace(/edit-([0-9]+?)_(.*)/, '$1');
		name = id.replace(/edit-([0-9]+?)_(.*)/, '$2');
		
		$('#' + id).editable({
			type: 'text',
			pk: dbID,
			name: name,
			url: SITE_URL + '/ajax.php?action=updateitem&table=' + table,
			title: 'Enter Text',
		});
	});
}	
function addEditableSelect( fields, source ) {
	$.each(fields, function() {
		// Determine our settings
		id = '';
		name = '';
		table = '';
		
		$(this).editable({
			type: 'select',
			pk: id,
			name: name,
			source: source,
			url: SITE_URL + '/ajax.php?action=updateitem&table=' + table,
		});
	});
}
*/

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqYXZhc2NyaXB0c1xcZnVuY3Rpb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFJLGdCQUFnQixHQUFHLHVCQUF2QjtBQUNBLElBQUksa0JBQWtCLEdBQUcscUJBQXpCO0FBRUE7QUFDQTs7QUFDQTs7QUFDQSxDQUFDLENBQUMsUUFBRCxDQUFELENBQVksS0FBWixDQUFrQixZQUFXO0FBQzNCO0FBQ0EsRUFBQSxDQUFDLENBQUMsT0FBRCxDQUFELENBQVcsSUFBWCxHQUYyQixDQUkzQjtBQUNBO0FBRUE7O0FBQ0E7Ozs7Ozs7O0FBU0E7QUFDQTtBQUVBOztBQUNBLEVBQUEsQ0FBQyxDQUFDLGdCQUFELENBQUQsQ0FBb0IsT0FBcEIsR0FyQjJCLENBdUIzQjs7QUFDQSxNQUFJLENBQUMsQ0FBQyxVQUFELENBQUQsQ0FBYyxNQUFsQixFQUEwQjtBQUN4QixJQUFBLE9BQU8sQ0FBQyxJQUFSLENBQWE7QUFDWCxNQUFBLFFBQVEsRUFBRSxVQURDO0FBRVgsTUFBQSxhQUFhLEVBQUUsS0FGSjtBQUdYLE1BQUEsa0JBQWtCLEVBQUUsS0FIVDtBQUtYLE1BQUEsT0FBTyxFQUFFLENBQ1Asa0VBRE8sRUFFUCxtR0FGTyxFQUdQLHNDQUhPLENBTEU7QUFVWCxNQUFBLGlCQUFpQixFQUFFLGFBVlI7QUFXWDtBQUNBLE1BQUEsT0FBTyxFQUFFLDBOQVpFO0FBYVgsTUFBQSxhQUFhLEVBQUUsQ0FDYjtBQUFFLFFBQUEsS0FBSyxFQUFFLFdBQVQ7QUFBc0IsUUFBQSxNQUFNLEVBQUU7QUFBOUIsT0FEYSxFQUViO0FBQUUsUUFBQSxLQUFLLEVBQUUsVUFBVDtBQUFxQixRQUFBLE1BQU0sRUFBRSxNQUE3QjtBQUFxQyxRQUFBLE1BQU0sRUFBRTtBQUFFLFVBQUEsS0FBSyxFQUFFO0FBQVQ7QUFBN0MsT0FGYSxFQUdiO0FBQUUsUUFBQSxLQUFLLEVBQUUsWUFBVDtBQUF1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QUFDQSxRQUFJLElBQUksR0FBRyxFQUFFLENBQUMsT0FBSCxDQUFXLG1DQUFYLEVBQWdELElBQWhELENBQVg7QUFDQSxRQUFJLElBQUksR0FBRyxFQUFFLENBQUMsT0FBSCxDQUFXLG1DQUFYLEVBQWdELElBQWhELENBQVg7QUFFQSxRQUFJLGVBQWUsR0FBRztBQUNwQixNQUFBLEVBQUUsRUFBRSxPQURnQjtBQUVwQixNQUFBLE1BQU0sRUFBRSwwSEFGWTtBQUdwQixNQUFBLE1BQU0sRUFBRSxzSEFIWTtBQUlwQixNQUFBLFNBQVMsRUFBRSxjQUpTO0FBS3BCLE1BQUEsT0FBTyxFQUFFLGtCQUxXO0FBTXBCLE1BQUEsS0FBSyxFQUFFLGtCQU5hO0FBT3BCLE1BQUEsS0FBSyxFQUFFO0FBUGEsS0FBdEI7QUFTQSxJQUFBLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBRixDQUFTLEVBQVQsRUFBYSxlQUFiLEVBQThCLE9BQTlCLENBQVY7O0FBQ0EsUUFBSSxPQUFPLENBQUMsT0FBWixFQUFxQjtBQUFFLE1BQUEsT0FBTyxDQUFDLE9BQVIsSUFBbUIsU0FBUyxJQUE1QjtBQUFtQzs7QUFFMUQsSUFBQSxDQUFDLENBQUMsTUFBTSxFQUFQLENBQUQsQ0FBWSxRQUFaLENBQXFCLG9CQUFyQixFQUEyQyxRQUEzQyxDQUNFLFFBQVEsR0FBRyxvQ0FBWCxHQUFrRCxLQUFsRCxHQUEwRCxRQUExRCxHQUFxRSxJQUFyRSxHQUE0RSxNQUE1RSxHQUFxRixJQUR2RixFQUVFLE9BRkY7QUFJRCxHQXZCRDtBQXdCRDtBQUVEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImxldCBncmFwaHNfZmlsbENvbG9yID0gJ3JnYmEoMjIwLDIyMCwyMjAsMC41KSc7XG5sZXQgZ3JhcGhzX3N0cm9rZUNvbG9yID0gJ3JnYmEoMjIwLDIyMCwyMjAsMSknO1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLy8gUGFnZSBMb2FkIEZ1bmN0aW9uc1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAvLyBIYW5kbGUgdGFic1xuICAkKCcudGFicycpLnRhYnMoKTtcblxuICAvLyBFZGl0cyBhcmUgaW5saW5lXG4gIC8vJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5tb2RlID0gJ3BvcHVwJztcblxuICAvLyBOYXZpZ2F0aW9uIGRyb3Bkb3duIGZpeCBmb3IgSUU2XG4gIC8qXG4gIGlmKGpRdWVyeS5icm93c2VyLnZlcnNpb24uc3Vic3RyKDAsMSkgPCA3KSB7XG4gICAgJCgnI25hdiBsaScpLmhvdmVyKFxuICAgICAgZnVuY3Rpb24oKSB7ICQodGhpcykuYWRkQ2xhc3MoJ2llaG92ZXInKTsgfSxcbiAgICAgIGZ1bmN0aW9uKCkgeyAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpZWhvdmVyJyk7IH1cbiAgICApO1xuICB9XG4gICovXG5cbiAgLy8gQXV0b3NpemUgYWxsIHRleHRhcmVhc1xuICAvLyQoJ3RleHRhcmVhJykuYXV0b3NpemUoKTsgXG5cbiAgLy8gQWRkIHNlbGVjdDJcbiAgJCgnc2VsZWN0LnNlbGVjdDInKS5zZWxlY3QyKCk7XG5cbiAgLy8gVGlueU1DRVxuICBpZiAoJCgnLnRpbnltY2UnKS5sZW5ndGgpIHtcbiAgICB0aW55bWNlLmluaXQoe1xuICAgICAgc2VsZWN0b3I6ICcudGlueW1jZScsXG4gICAgICByZWxhdGl2ZV91cmxzOiBmYWxzZSxcbiAgICAgIHJlbW92ZV9zY3JpcHRfaG9zdDogZmFsc2UsXG5cbiAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgJ2Fkdmxpc3QgYXV0b2xpbmsgbGluayBpbWFnZSBsaXN0cyBjaGFybWFwIGhyIGFuY2hvciBzcGVsbGNoZWNrZXInLFxuICAgICAgICAnc2VhcmNocmVwbGFjZSB3b3JkY291bnQgdmlzdWFsYmxvY2tzIHZpc3VhbGNoYXJzIGNvZGUgZnVsbHNjcmVlbiBpbnNlcnRkYXRldGltZSBtZWRpYSBub25icmVha2luZycsXG4gICAgICAgICd0YWJsZSBkaXJlY3Rpb25hbGl0eSBlbW90aWNvbnMgcGFzdGUnLFxuICAgICAgXSxcbiAgICAgIHJlbW92ZWRfbWVudWl0ZW1zOiAnbmV3ZG9jdW1lbnQnLFxuICAgICAgLy9jb250ZW50X2NzczogXCJjc3MvY29udGVudC5jc3NcIixcbiAgICAgIHRvb2xiYXI6ICdpbnNlcnRmaWxlIHVuZG8gcmVkbyB8IHN0eWxlc2VsZWN0IHwgZm9udHNpemVzZWxlY3QgfCBib2xkIGl0YWxpYyB1bmRlcmxpbmUgfCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnkgfCBidWxsaXN0IG51bWxpc3Qgb3V0ZGVudCBpbmRlbnQgfCBsaW5rIGltYWdlIG1lZGlhIGZ1bGxwYWdlIHwgZm9yZWNvbG9yIGJhY2tjb2xvciBlbW90aWNvbnMnLFxuICAgICAgc3R5bGVfZm9ybWF0czogW1xuICAgICAgICB7IHRpdGxlOiAnQm9sZCB0ZXh0JywgaW5saW5lOiAnYicgfSxcbiAgICAgICAgeyB0aXRsZTogJ1JlZCB0ZXh0JywgaW5saW5lOiAnc3BhbicsIHN0eWxlczogeyBjb2xvcjogJyNmZjAwMDAnIH0gfSxcbiAgICAgICAgeyB0aXRsZTogJ1JlZCBoZWFkZXInLCBibG9jazogJ2gxJywgc3R5bGVzOiB7IGNvbG9yOiAnI2ZmMDAwMCcgfSB9LFxuICAgICAgXSxcbiAgICAgIHJlbF9saXN0OiBbXG4gICAgICAgIC8ve3RpdGxlOiAnTGlnaHRib3gnLCB2YWx1ZTogJ2xpZ2h0Ym94J30sXG4gICAgICAgIC8ve3RpdGxlOiAnVGFibGUgb2YgY29udGVudHMnLCB2YWx1ZTogJ3RvYyd9LFxuICAgICAgICB7IHRpdGxlOiAnRG8gRm9sbG93JywgdmFsdWU6ICdmb2xsb3cnIH0sXG4gICAgICAgIHsgdGl0bGU6ICdObyBGb2xsb3cnLCB2YWx1ZTogJ25vZm9sbG93JyB9LFxuICAgICAgXSxcbiAgICAgIC8vIHVwZGF0ZSB2YWxpZGF0aW9uIHN0YXR1cyBvbiBjaGFuZ2VcbiAgICAgIG9uY2hhbmdlX2NhbGxiYWNrOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdGlueU1DRS50cmlnZ2VyU2F2ZSgpO1xuICAgICAgICAkKCcjJyArIGVkaXRvci5pZCkudmFsaWQoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoJCgnLnRpbnltY2VfYmFzaWMnKS5sZW5ndGgpIHtcbiAgICB0aW55bWNlLmluaXQoe1xuICAgICAgc2VsZWN0b3I6ICcudGlueW1jZV9iYXNpYycsXG4gICAgICByZWxhdGl2ZV91cmxzOiBmYWxzZSxcbiAgICAgIHJlbW92ZV9zY3JpcHRfaG9zdDogZmFsc2UsXG5cbiAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgJ2Fkdmxpc3QgYXV0b2xpbmsgbGluayBpbWFnZSBsaXN0cyBjaGFybWFwIGhyIGFuY2hvciBzcGVsbGNoZWNrZXInLFxuICAgICAgICAnc2VhcmNocmVwbGFjZSB3b3JkY291bnQgdmlzdWFsYmxvY2tzIHZpc3VhbGNoYXJzIGNvZGUgZnVsbHNjcmVlbiBpbnNlcnRkYXRldGltZSBtZWRpYSBub25icmVha2luZycsXG4gICAgICAgICd0YWJsZSBkaXJlY3Rpb25hbGl0eSBlbW90aWNvbnMgcGFzdGUnLFxuICAgICAgXSxcbiAgICAgIHJlbW92ZWRfbWVudWl0ZW1zOiAnbmV3ZG9jdW1lbnQnLFxuICAgICAgbWVudWJhcjogZmFsc2UsXG4gICAgICB0b29sYmFyOiAnYm9sZCBpdGFsaWMgdW5kZXJsaW5lIHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgYnVsbGlzdCBudW1saXN0IG91dGRlbnQgaW5kZW50IHwgbGluayBpbWFnZSBtZWRpYScsXG4gICAgICByZWxfbGlzdDogW1xuICAgICAgICAvL3t0aXRsZTogJ0xpZ2h0Ym94JywgdmFsdWU6ICdsaWdodGJveCd9LFxuICAgICAgICAvL3t0aXRsZTogJ1RhYmxlIG9mIGNvbnRlbnRzJywgdmFsdWU6ICd0b2MnfSxcbiAgICAgICAgeyB0aXRsZTogJ0RvIEZvbGxvdycsIHZhbHVlOiAnZm9sbG93JyB9LFxuICAgICAgICB7IHRpdGxlOiAnTm8gRm9sbG93JywgdmFsdWU6ICdub2ZvbGxvdycgfSxcbiAgICAgIF0sXG4gICAgICAvLyB1cGRhdGUgdmFsaWRhdGlvbiBzdGF0dXMgb24gY2hhbmdlXG4gICAgICBvbmNoYW5nZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHRpbnlNQ0UudHJpZ2dlclNhdmUoKTtcbiAgICAgICAgJCgnIycgKyBlZGl0b3IuaWQpLnZhbGlkKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJy50aW55bWNlX2ltYWdldXBsb2FkJykubGVuZ3RoKSB7XG4gICAgdGlueW1jZS5pbml0KHtcbiAgICAgIHNlbGVjdG9yOiAnLnRpbnltY2VfaW1hZ2V1cGxvYWQnLFxuICAgICAgcmVsYXRpdmVfdXJsczogZmFsc2UsXG4gICAgICByZW1vdmVfc2NyaXB0X2hvc3Q6IGZhbHNlLFxuICAgICAgcGx1Z2luczogW1xuICAgICAgICAnaW1hZ2UnLFxuICAgICAgXSxcbiAgICAgIHJlbW92ZWRfbWVudWl0ZW1zOiAnbmV3ZG9jdW1lbnQnLFxuICAgICAgdG9vbGJhcjogJ2ltYWdlJyxcbiAgICAgIC8vIHVwZGF0ZSB2YWxpZGF0aW9uIHN0YXR1cyBvbiBjaGFuZ2VcbiAgICAgIG9uY2hhbmdlX2NhbGxiYWNrOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdGlueU1DRS50cmlnZ2VyU2F2ZSgpO1xuICAgICAgICAkKCcjJyArIGVkaXRvci5pZCkudmFsaWQoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoJCgnLmNsZWFyRm9ybUJ1dHRvbicpLmxlbmd0aCkge1xuICAgICQoJy5jbGVhckZvcm1CdXR0b24nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgIGJvb3Rib3guY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIHRoaXMgZm9ybT8nLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCA9PSB0cnVlKSB7XG4gICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCdmb3JtOmZpcnN0JykuY2xlYXJGb3JtKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJ2lucHV0Lm1pbmljb2xvcnMnKS5sZW5ndGgpIHtcbiAgICAkKCdpbnB1dC5taW5pY29sb3JzJykubWluaWNvbG9ycyh7XG4gICAgICBjb250cm9sOiAnaHVlJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogJCh0aGlzKS5hdHRyKCd2YWx1ZScpIHx8ICcnLFxuICAgICAgaW5saW5lOiAkKHRoaXMpLmF0dHIoJ2RhdGEtaW5saW5lJykgPT09ICd0cnVlJyxcbiAgICAgIGxldHRlckNhc2U6ICdsb3dlcmNhc2UnLFxuICAgICAgb3BhY2l0eTogJCh0aGlzKS5hdHRyKCdkYXRhLW9wYWNpdHknKSxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tIGxlZnQnLFxuICAgICAgY2hhbmdlOiBmdW5jdGlvbihoZXgsIG9wYWNpdHkpIHtcbiAgICAgICAgbGV0IGxvZztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsb2cgPSBoZXggPyBoZXggOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgIGlmIChvcGFjaXR5KSB7XG4gICAgICAgICAgICBsb2cgKz0gJywgJyArIG9wYWNpdHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKGxvZyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJ2lucHV0Lmljb24tcGlja2VyJykubGVuZ3RoKSB7XG4gICAgJCgnaW5wdXQuaWNvbi1waWNrZXInKS5pY29uUGlja2VyKCk7XG4gIH1cblxuICBpZiAoJCgnaW5wdXQudG9nZ2xlJykubGVuZ3RoKSB7XG4gICAgJCgnaW5wdXQudG9nZ2xlJykuYm9vdHN0cmFwU3dpdGNoKCk7XG4gIH1cblxuICBpZiAoJCgndWwjZ3JhcGhMaW5rcycpLmxlbmd0aCkge1xuICAgIGxldCBjdHggPSAkKCcjZ3JhcGhzQ2hhcnQnKS5nZXQoMCkuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICQoJ3VsI2dyYXBoTGlua3MgYScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQoJyNidWlsdGluR3JhcGhSZXNwb25zZScpLmh0bWwoJycpO1xuICAgICAgJCgnI2dyYXBoVGl0bGUnKS5odG1sKCQodGhpcykuaHRtbCgpKTtcblxuICAgICAgbGV0IG15TmV3Q2hhcnQgPSBuZXcgQ2hhcnQoY3R4KTtcbiAgICAgIHdpbmRvd1skKHRoaXMpLmF0dHIoJ2lkJyldKGN0eCk7IC8vIENhbGwgdGhlIGZ1bmN0aW9uXG4gICAgfSk7XG4gIH1cblxuICBpZiAoJCgnZGl2LnNlbGVjdGlvblByZXZpZXcnKS5sZW5ndGgpIHtcbiAgICAkKCdkaXYuc2VsZWN0aW9uUHJldmlldycpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAvLyBEZXRlcm1pbmUgb3VyIHNldHRpbmdzXG4gICAgICBsZXQgaWQgPSB0aGlzLmlkO1xuICAgICAgbGV0IHNlbGVjdEJveCA9IGlkLnJlcGxhY2UoJ1ByZXZpZXcnLCAnJyk7XG5cbiAgICAgICQoJ3NlbGVjdCMnICsgc2VsZWN0Qm94KS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFJlc2V0IHRoZSBwcmV2aWV3IGJveFxuICAgICAgICAkKCcjJyArIGlkKS5hdHRyKCdjbGFzcycsICdzZWxlY3Rpb25QcmV2aWV3Jyk7XG4gICAgICAgICQoJyMnICsgaWQgKyAnIGltZycpLmF0dHIoJ2NsYXNzJywgJycpLnNob3coKTtcblxuICAgICAgICAvLyBUcnkgYW5kIGdldCBhIEpTIHNjcmlwdCB0byBzaG93IHRoZSBwcmV2aWV3IGZvciB0aGUgaXRlbVxuICAgICAgICAkLmdldFNjcmlwdChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXNob3dTZWxlY3Rpb25QcmV2aWV3JnNlbGVjdGlvbklEPScgKyBzZWxlY3RCb3ggKyAnJnZhbHVlPScgKyAkKHRoaXMpLnZhbCgpKTtcbiAgICAgIH0pLmNoYW5nZSgpOyAvLyBUcmlnZ2VyIHRoZSBjaGFuZ2Ugc28gd2UgZ2V0IGFuIGFjY3VyYXRlIHByZXZpZXcgb24gcGFnZSBsb2FkIFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCQoJyNjaGFuZ2VQYXNzd29yZExpbmsnKS5sZW5ndGgpIHtcbiAgICAkKCcjY2hhbmdlUGFzc3dvcmRMaW5rJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgYm9vdGJveC5kaWFsb2coe1xuICAgICAgICBtZXNzYWdlOiAnPGZvcm0gbmFtZT1cImNoYW5nZVBhc3N3b3JkRm9ybVwiIGlkPVwiY2hhbmdlUGFzc3dvcmRGb3JtXCIgYWN0aW9uPVwiXCIgbWV0aG9kPVwicG9zdFwiIGNsYXNzPVwiZm9ybS1ob3Jpem9udGFsXCIgcm9sZT1cImZvcm1cIiBvbnN1Ym1pdD1cInJldHVybiBmYWxzZTtcIj48ZmllbGRzZXQ+PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj48bGFiZWwgZm9yPVwicGFzc3dvcmRcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWwgY29sLWxnLTRcIj5QYXNzd29yZCA8c3VwPio8L3N1cD4gPC9sYWJlbD4gPGRpdiBjbGFzcz1cImNvbC1sZy04XCI+PGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIGlkPVwicGFzc3dvcmRcIiBjbGFzcz1cImZvcm0tY29udHJvbCByZXF1aXJlZFwiIHNpemU9XCI2MFwiIHZhbHVlPVwiXCIgLz48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPjxsYWJlbCBmb3I9XCJwYXNzd29yZDJcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWwgY29sLWxnLTRcIj5Db25maXJtIFBhc3N3b3JkIDxzdXA+Kjwvc3VwPiA8L2xhYmVsPiA8ZGl2IGNsYXNzPVwiY29sLWxnLThcIj48aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkMlwiIGlkPVwicGFzc3dvcmQyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgcmVxdWlyZWRcIiBzaXplPVwiNjBcIiAgIHZhbHVlPVwiXCIgLz48L2Rpdj48L2Rpdj48L2ZpZWxkc2V0PjwvZm9ybT4nLFxuICAgICAgICB0aXRsZTogJ0NoYW5nZSBQYXNzd29yZCcsXG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0NoYW5nZSBQYXNzd29yZCcsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdidG4tc3VjY2VzcycsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGpRdWVyeS5wb3N0KFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249Y2hhbmdlUGFzc3dvcmQnLCAkKCcjY2hhbmdlUGFzc3dvcmRGb3JtJykuc2VyaWFsaXplKCksIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBib290Ym94LmFsZXJ0KGRhdGEpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYW5nZXI6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnQ2FuY2VsJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1kZWZhdWx0JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBQYXNzd29yZFxuICBpZiAoJCgnLmdlbmVyYXRlUGFzc3dvcmRMaW5rJykubGVuZ3RoKSB7XG4gICAgJCgnLmdlbmVyYXRlUGFzc3dvcmRMaW5rJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBqUXVlcnkucG9zdChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPWdlbmVyYXRlUGFzc3dvcmQnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGJvb3Rib3guZGlhbG9nKHtcbiAgICAgICAgICBtZXNzYWdlOiAnPGgyIGNsYXNzPVwiZ2VuZXJhdGVkUGFzc3dvcmRcIj4nICsgZGF0YSArICc8L2gyPicsXG4gICAgICAgICAgdGl0bGU6ICdHZW5lcmF0ZSBQYXNzd29yZCcsXG4gICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICBsYWJlbDogJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGVja1wiPjwvc3Bhbj4gVXNlIFRoaXMgUGFzc3dvcmQnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdidG4tc3VjY2VzcycsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHNlbGYpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJzpwYXNzd29yZCcpLnZhbCgkKCcuZ2VuZXJhdGVkUGFzc3dvcmQnKS5odG1sKCkpLmVmZmVjdCgnaGlnaGxpZ2h0Jywge30sIDUwMCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnZW46IHtcbiAgICAgICAgICAgICAgbGFiZWw6ICc8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcmVmcmVzaFwiPjwvc3Bhbj4gUmVnZW5lcmF0ZScsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1pbmZvJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdlbmVyYXRlZFBhc3N3b3JkKCcuZ2VuZXJhdGVkUGFzc3dvcmQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFBhc3N3b3JkIHN0cmVuZ3RoXG4gIGlmICgkKCc6cGFzc3dvcmQuc2hvd1N0cmVuZ3RoJykubGVuZ3RoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgICBvcHRpb25zLnVpID0ge1xuICAgICAgY29udGFpbmVyOiAnI3B3ZC1jb250YWluZXInLFxuICAgICAgc2hvd1ZlcmRpY3RzSW5zaWRlUHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgICB2aWV3cG9ydHM6IHtcbiAgICAgICAgcHJvZ3Jlc3M6ICcucHdzdHJlbmd0aF92aWV3cG9ydF9wcm9ncmVzcycsXG4gICAgICB9LFxuICAgIH07XG4gICAgb3B0aW9ucy5jb21tb24gPSB7XG4gICAgICBkZWJ1ZzogdHJ1ZSxcbiAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJyNtZXNzYWdlcycpLnRleHQoJ1N0YXJ0IHR5cGluZyBwYXNzd29yZCcpO1xuICAgICAgfSxcbiAgICB9O1xuICAgICQoJzpwYXNzd29yZC5zaG93U3RyZW5ndGgnKS5wd3N0cmVuZ3RoKG9wdGlvbnMpO1xuICB9XG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8vIEFqYXggRnVuY3Rpb25zXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZnVuY3Rpb24gYWpheERlbGV0ZU5vdGlmaWVyKHNwaW5EaXZJRCwgYWN0aW9uLCB0ZXh0LCByb3cpIHtcbiAgYm9vdGJveC5jb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgJyArIHRleHQgKyAnPycsIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQgPT0gdHJ1ZSkge1xuICAgICAgJCgnIycgKyBzcGluRGl2SUQpLnRvZ2dsZSgpO1xuICAgICAgalF1ZXJ5LmdldChhY3Rpb24sIGZ1bmN0aW9uKGRhdGEpIHsgJCgnIycgKyByb3cpLmhpZGUoKTsgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWpheEdldFdpdGhQcm9ncmVzcyhzcGluRGl2SUQsIGFjdGlvbikge1xuICAkKCcjJyArIHNwaW5EaXZJRCkudG9nZ2xlKCk7XG4gIGpRdWVyeS5nZXQoYWN0aW9uLCBmdW5jdGlvbihkYXRhKSB7ICQoJyMnICsgc3BpbkRpdklEKS50b2dnbGUoKTsgfSk7XG59XG5cbmZ1bmN0aW9uIGFqYXhRdWlja0RpdlVwZGF0ZShhY3Rpb24sIGRpdklELCBzcGlubmVySFRNTCkge1xuICBqUXVlcnkuZ2V0KGFjdGlvbiwgZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vIENsZWFyIHRoZSBjdXJyZW50IGdyYXBoIGFuZCBzaG93IHRoZSBuZXcgb25lXG4gICAgJCgnIycgKyBkaXZJRCkuaHRtbChzcGlubmVySFRNTCkuaHRtbChkYXRhKTtcbiAgfSk7XG59XG5cbiQuZm4uY2xlYXJGb3JtID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgbGV0IHR5cGUgPSB0aGlzLnR5cGUsIHRhZyA9IHRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0YWcgPT09ICdmb3JtJykge1xuICAgICAgcmV0dXJuICQoJzppbnB1dCcsIHRoaXMpLmNsZWFyRm9ybSgpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ3RleHQnIHx8IHR5cGUgPT09ICdwYXNzd29yZCcgfHwgdGFnID09PSAndGV4dGFyZWEnKSB7XG4gICAgICB0aGlzLnZhbHVlID0gJyc7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIHRoaXMuY2hlY2tlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgfVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHJldHVyblN1Y2Nlc3NNZXNzYWdlKGl0ZW1OYW1lKSB7XG4gIHJldHVybiAnPHNwYW4gY2xhc3M9XCJncmVlblRleHQgYm9sZFwiPlN1Y2Nlc3NmdWxseSBjcmVhdGVkICcgKyBpdGVtTmFtZSArICchPC9zcGFuPic7XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBBamF4IEZ1bmN0aW9ucyAtIE1vZHVsZXNcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5mdW5jdGlvbiBhamF4SW5zdGFsbE1vZHVsZShwcmVmaXgpIHtcbiAgbGV0IGhvbGRlckRpdklEID0gJ3N0YXR1c0J1dHRvbkhvbGRlcl8nICsgcHJlZml4O1xuXG4gICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoJ0xvYWRpbmcuLi4nKTtcbiAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPWluc3RhbGxNb2R1bGUmcHJlZml4PScgKyBwcmVmaXgsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBqUXVlcnkuZ2V0KFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249c2hvd01vZHVsZVN0YXR1c0J1dHRvbnMmcHJlZml4PScgKyBwcmVmaXgsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoZGF0YSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhamF4VW5pbnN0YWxsTW9kdWxlKHByZWZpeCkge1xuICBsZXQgaG9sZGVyRGl2SUQgPSAnc3RhdHVzQnV0dG9uSG9sZGVyXycgKyBwcmVmaXg7XG5cbiAgJCgnIycgKyBob2xkZXJEaXZJRCkuaHRtbCgnTG9hZGluZy4uLicpO1xuICBqUXVlcnkuZ2V0KFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249dW5pbnN0YWxsTW9kdWxlJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPXNob3dNb2R1bGVTdGF0dXNCdXR0b25zJnByZWZpeD0nICsgcHJlZml4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAkKCcjJyArIGhvbGRlckRpdklEKS5odG1sKGRhdGEpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWpheEFjdGl2YXRlTW9kdWxlKHByZWZpeCkge1xuICBsZXQgaG9sZGVyRGl2SUQgPSAnc3RhdHVzQnV0dG9uSG9sZGVyXycgKyBwcmVmaXg7XG5cbiAgJCgnIycgKyBob2xkZXJEaXZJRCkuaHRtbCgnTG9hZGluZy4uLicpO1xuICBqUXVlcnkuZ2V0KFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249YWN0aXZhdGVNb2R1bGUmcHJlZml4PScgKyBwcmVmaXgsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBqUXVlcnkuZ2V0KFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249c2hvd01vZHVsZVN0YXR1c0J1dHRvbnMmcHJlZml4PScgKyBwcmVmaXgsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoZGF0YSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhamF4RGVhY3RpdmF0ZU1vZHVsZShwcmVmaXgpIHtcbiAgbGV0IGhvbGRlckRpdklEID0gJ3N0YXR1c0J1dHRvbkhvbGRlcl8nICsgcHJlZml4O1xuXG4gICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoJ0xvYWRpbmcuLi4nKTtcbiAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPWRlYWN0aXZhdGVNb2R1bGUmcHJlZml4PScgKyBwcmVmaXgsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBqUXVlcnkuZ2V0KFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249c2hvd01vZHVsZVN0YXR1c0J1dHRvbnMmcHJlZml4PScgKyBwcmVmaXgsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICQoJyMnICsgaG9sZGVyRGl2SUQpLmh0bWwoZGF0YSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLy8gVXNlciByZWxhdGVkIEZ1bmN0aW9uc1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIHVwZGF0ZUdlbmVyYXRlZFBhc3N3b3JkKHNlbGVjdG9yKSB7XG4gICQoc2VsZWN0b3IpLmh0bWwoJ0dlbmVyYXRpbmcuLi4nKTtcbiAgalF1ZXJ5LmdldChTSVRFX1VSTCArICcvYWpheC5waHA/YWN0aW9uPWdlbmVyYXRlUGFzc3dvcmQnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgJChzZWxlY3RvcikuaHRtbChkYXRhKTtcbiAgfSk7XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBIZWxwZXIgRnVuY3Rpb25zXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZnVuY3Rpb24gYWRkRWRpdGFibGUoZmllbGRzLCBvcHRpb25zKSB7XG4gICQuZWFjaChmaWVsZHMsIGZ1bmN0aW9uKCkge1xuICAgIC8vIERldGVybWluZSBvdXIgc2V0dGluZ3NcbiAgICBsZXQgaWQgPSB0aGlzO1xuICAgIGxldCB0YWJsZSA9IGlkLnJlcGxhY2UoL2VkaXQtKFthLXpBLVpfXSs/KS0oWzAtOV0rPylfKC4qKS8sICckMScpO1xuICAgIGxldCBkYklEID0gaWQucmVwbGFjZSgvZWRpdC0oW2EtekEtWl9dKz8pLShbMC05XSs/KV8oLiopLywgJyQyJyk7XG4gICAgbGV0IG5hbWUgPSBpZC5yZXBsYWNlKC9lZGl0LShbYS16QS1aX10rPyktKFswLTldKz8pXyguKikvLCAnJDMnKTtcblxuICAgIGxldCBkZWZhdWx0X29wdGlvbnMgPSB7XG4gICAgICBpZDogJ2Nzc0lEJyxcbiAgICAgIGNhbmNlbDogJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGVkaXRhYmxlLWNhbmNlbFwiIHR5cGU9XCJidXR0b25cIj48aSBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlXCI+PC9pPjwvYnV0dG9uPicsXG4gICAgICBzdWJtaXQ6ICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSBlZGl0YWJsZS1zdWJtaXRcIiB0eXBlPVwic3VibWl0XCI+PGkgY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW9rXCI+PC9pPjwvYnV0dG9uPicsXG4gICAgICBpbmRpY2F0b3I6IGluZGljYXRvckltYWdlLFxuICAgICAgdG9vbHRpcDogJ0NsaWNrIHRvIGVkaXQuLi4nLFxuICAgICAgc3R5bGU6ICdkaXNwbGF5OiBpbmxpbmU7JyxcbiAgICAgIHdpZHRoOiAnbm9uZScsXG4gICAgfTtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRfb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMubG9hZHVybCkgeyBvcHRpb25zLmxvYWR1cmwgKz0gJyZpZD0nICsgZGJJRDsgfVxuXG4gICAgJCgnIycgKyBpZCkuYWRkQ2xhc3MoJ2VkaXRhYmxlSXRlbUhvbGRlcicpLmVkaXRhYmxlKFxuICAgICAgU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj11cGRhdGVpdGVtJnRhYmxlPScgKyB0YWJsZSArICcmaXRlbT0nICsgbmFtZSArICcmaWQ9JyArIGRiSUQsXG4gICAgICBvcHRpb25zLFxuICAgICk7XG4gIH0pO1xufVxuXG4vKlxuZnVuY3Rpb24gYWRkRWRpdGFibGUoIGZpZWxkcywgdGFibGUgKSB7XG5cdCQuZWFjaChmaWVsZHMsIGZ1bmN0aW9uKCkge1xuXHRcdC8vIERldGVybWluZSBvdXIgc2V0dGluZ3Ncblx0XHRpZCA9IHRoaXM7XG5cdFx0ZGJJRCA9IGlkLnJlcGxhY2UoL2VkaXQtKFswLTldKz8pXyguKikvLCAnJDEnKTtcblx0XHRuYW1lID0gaWQucmVwbGFjZSgvZWRpdC0oWzAtOV0rPylfKC4qKS8sICckMicpO1xuXHRcdFxuXHRcdCQoJyMnICsgaWQpLmVkaXRhYmxlKHtcblx0XHRcdHR5cGU6ICd0ZXh0Jyxcblx0XHRcdHBrOiBkYklELFxuXHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdHVybDogU0lURV9VUkwgKyAnL2FqYXgucGhwP2FjdGlvbj11cGRhdGVpdGVtJnRhYmxlPScgKyB0YWJsZSxcblx0XHRcdHRpdGxlOiAnRW50ZXIgVGV4dCcsXG5cdFx0fSk7XG5cdH0pO1xufVx0XG5mdW5jdGlvbiBhZGRFZGl0YWJsZVNlbGVjdCggZmllbGRzLCBzb3VyY2UgKSB7XG5cdCQuZWFjaChmaWVsZHMsIGZ1bmN0aW9uKCkge1xuXHRcdC8vIERldGVybWluZSBvdXIgc2V0dGluZ3Ncblx0XHRpZCA9ICcnO1xuXHRcdG5hbWUgPSAnJztcblx0XHR0YWJsZSA9ICcnO1xuXHRcdFxuXHRcdCQodGhpcykuZWRpdGFibGUoe1xuXHRcdFx0dHlwZTogJ3NlbGVjdCcsXG5cdFx0XHRwazogaWQsXG5cdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0c291cmNlOiBzb3VyY2UsXG5cdFx0XHR1cmw6IFNJVEVfVVJMICsgJy9hamF4LnBocD9hY3Rpb249dXBkYXRlaXRlbSZ0YWJsZT0nICsgdGFibGUsXG5cdFx0fSk7XG5cdH0pO1xufVxuKi9cbiJdfQ==
